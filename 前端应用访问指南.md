# AIæƒ…ç»ªæ—¥è®°å‰ç«¯åº”ç”¨è®¿é—®æŒ‡å—

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

æ‚¨çš„AIæƒ…ç»ªæ—¥è®°å‰ç«¯åº”ç”¨å·²æˆåŠŸéƒ¨ç½²åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ã€‚

## ğŸ“± è®¿é—®åœ°å€

### ä¸»è¦è®¿é—®åœ°å€
- **å‰ç«¯åº”ç”¨**ï¼šhttp://47.239.83.46/
- **åº”ç”¨åç§°**ï¼šå¿ƒæ™´æ—¥è®°
- **æŠ€æœ¯æ ˆ**ï¼šUniApp + Vue3 + H5

### APIæ¥å£åœ°å€
- **APIæ ¹ç›®å½•**ï¼šhttp://47.239.83.46/api/
- **å¥åº·æ£€æŸ¥**ï¼šhttp://47.239.83.46/health/
- **ç®¡ç†åå°**ï¼šhttp://47.239.83.46/admin/

## ğŸ—ï¸ æ¶æ„è¯´æ˜

### å‰ç«¯æ¶æ„
- **æ¡†æ¶**ï¼šUniApp + Vue3
- **æ„å»ºå·¥å…·**ï¼šVite
- **UIæ ·å¼**ï¼šç°ä»£åŒ–å“åº”å¼è®¾è®¡
- **éƒ¨ç½²æ–¹å¼**ï¼šH5é™æ€æ–‡ä»¶éƒ¨ç½²

### åç«¯æ¶æ„
- **æ¡†æ¶**ï¼šDjango 3.2.25
- **æ•°æ®åº“**ï¼šSQLite
- **API**ï¼šDjango REST Framework
- **AIæœåŠ¡**ï¼šç™¾åº¦åƒå¸†ERNIE-Bot

### æœåŠ¡å™¨é…ç½®
- **WebæœåŠ¡å™¨**ï¼šNginx
- **åå‘ä»£ç†**ï¼šå‰ç«¯é™æ€æ–‡ä»¶ + APIä»£ç†
- **æ“ä½œç³»ç»Ÿ**ï¼šAlibaba Cloud Linux 3.2104

## ğŸ”§ æŠ€æœ¯å®ç°

### Nginxé…ç½®
```nginx
server {
    listen 80;
    server_name 47.239.83.46 localhost;
    
    # å‰ç«¯åº”ç”¨
    location / {
        root /var/www/emotion-diary/frontend-app;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
    
    # APIä»£ç†
    location /api/ {
        proxy_pass http://127.0.0.1:8000/;
    }
    
    # å¥åº·æ£€æŸ¥å’Œç®¡ç†åå°
    location ~ ^/(health|admin)/ {
        proxy_pass http://127.0.0.1:8000;
    }
}
```

### æ–‡ä»¶ç»“æ„
```
/var/www/emotion-diary/
â”œâ”€â”€ frontend-app/           # å‰ç«¯H5åº”ç”¨
â”‚   â”œâ”€â”€ index.html         # ä¸»é¡µé¢
â”‚   â””â”€â”€ assets/            # é™æ€èµ„æº
â”œâ”€â”€ backend/               # Djangoåç«¯
â””â”€â”€ ...
```

## ğŸ“± åº”ç”¨åŠŸèƒ½

### å·²å®ç°åŠŸèƒ½
- âœ… ç”¨æˆ·ç™»å½•æ³¨å†Œ
- âœ… æƒ…ç»ªè®°å½•
- âœ… AIæƒ…ç»ªåˆ†æ
- âœ… å†å²è®°å½•æŸ¥çœ‹
- âœ… ç»Ÿè®¡å›¾è¡¨
- âœ… ä¸ªäººä¸­å¿ƒ
- âœ… è®¾ç½®ç®¡ç†

### é¡µé¢è·¯ç”±
- `/` - é¦–é¡µ
- `/pages/login/index` - ç™»å½•é¡µ
- `/pages/record/index` - æƒ…ç»ªè®°å½•
- `/pages/analysis/index` - AIåˆ†æ
- `/pages/statistics/index` - ç»Ÿè®¡é¡µé¢
- `/pages/profile/index` - ä¸ªäººä¸­å¿ƒ

## ğŸ” ç®¡ç†å‘˜è´¦æˆ·

### åå°ç®¡ç†
- **åœ°å€**ï¼šhttp://47.239.83.46/admin/
- **ç”¨æˆ·å**ï¼šadmin
- **å¯†ç **ï¼šadmin123

## ğŸ“Š æ€§èƒ½çŠ¶æ€

### æœåŠ¡å™¨çŠ¶æ€
- **CPUä½¿ç”¨ç‡**ï¼šä½
- **å†…å­˜ä½¿ç”¨**ï¼š873Mi/3.5Gi (25%)
- **ç£ç›˜ä½¿ç”¨**ï¼š23G/40G (62%)
- **è¿è¡Œæ—¶é—´**ï¼š121å¤©

### æœåŠ¡çŠ¶æ€
- âœ… Nginxï¼šæ­£å¸¸è¿è¡Œ
- âœ… Djangoï¼šæ­£å¸¸è¿è¡Œ (PID: 2538280)
- âœ… å‰ç«¯åº”ç”¨ï¼šæ­£å¸¸è®¿é—®
- âœ… APIæœåŠ¡ï¼šæ­£å¸¸å“åº”

## ğŸ› ï¸ å¼€å‘è°ƒè¯•

### æœ¬åœ°å¼€å‘
```bash
# å‰ç«¯å¼€å‘
cd frontend
npm run dev:h5

# åç«¯å¼€å‘
cd backend
python manage.py runserver --settings=settings_simple
```

### é‡æ–°éƒ¨ç½²
```bash
# é‡æ–°æ„å»ºå‰ç«¯
cd frontend
npm run build:h5

# ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp -r dist/build/h5/* root@47.239.83.46:/var/www/emotion-diary/frontend-app/
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **403é”™è¯¯**ï¼šæ£€æŸ¥æ–‡ä»¶æƒé™
   ```bash
   chmod -R 755 /var/www/emotion-diary/frontend-app/
   chown -R nginx:nginx /var/www/emotion-diary/frontend-app/
   ```

2. **APIæ— æ³•è®¿é—®**ï¼šæ£€æŸ¥DjangoæœåŠ¡
   ```bash
   ps aux | grep python
   curl http://127.0.0.1:8000/health/
   ```

3. **é™æ€èµ„æº404**ï¼šæ£€æŸ¥Nginxé…ç½®
   ```bash
   nginx -t
   systemctl reload nginx
   ```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æœåŠ¡å™¨çŠ¶æ€ï¼š`systemctl status nginx`
2. Djangoè¿›ç¨‹ï¼š`ps aux | grep python`
3. é”™è¯¯æ—¥å¿—ï¼š`tail -f /var/log/nginx/error.log`

---

**ğŸŠ æ­å–œï¼æ‚¨çš„AIæƒ…ç»ªæ—¥è®°åº”ç”¨å·²æˆåŠŸéƒ¨ç½²å¹¶å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼** 