"use strict";const e=require("../../common/vendor.js"),t=e.defineComponent({__name:"index",setup(t){const a=e.ref({nickname:"小明",description:"记录生活，感受美好",avatar:"/static/default-avatar.png",joinDate:"2024-01-01"}),s=e.ref({totalDays:28,totalRecords:56,averageMood:6.8,streakDays:7}),o=e.ref("synced"),n=e.ref("浅色"),i=e.ref(!0),c=e.ref(!1),l=e.ref([{id:1,name:"坚持者",icon:"🔥"},{id:2,name:"探索者",icon:"🔍"},{id:3,name:"分析师",icon:"📊"}]),u=e=>{const t=new Date(e);return`${t.getFullYear()}年${t.getMonth()+1}月${t.getDate()}日`},d=()=>{e.index.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:t=>{a.value.avatar=t.tempFilePaths[0],e.index.showToast({title:"头像更新成功",icon:"success"})}})},r=()=>{e.index.navigateTo({url:"/pages/profile/edit"})},v=()=>{e.index.showActionSheet({itemList:["导出为JSON","导出为CSV","导出为PDF"],success:t=>{e.index.showToast({title:`导出${["JSON","CSV","PDF"][t.tapIndex]}中...`,icon:"loading"}),setTimeout(()=>{e.index.showToast({title:"导出成功",icon:"success"})},2e3)}})},g=()=>{"syncing"!==o.value&&(o.value="syncing",e.index.showToast({title:"备份中...",icon:"loading"}),setTimeout(()=>{o.value="synced",e.index.showToast({title:"备份成功",icon:"success"})},3e3))},x=()=>{e.index.chooseFile({count:1,extension:[".json",".csv"],success:t=>{e.index.showToast({title:"导入成功",icon:"success"})}})},p=()=>{e.index.showActionSheet({itemList:["浅色主题","深色主题","跟随系统"],success:t=>{const a=["浅色","深色","跟随系统"];n.value=a[t.tapIndex],e.index.showToast({title:`已切换到${a[t.tapIndex]}主题`,icon:"success"})}})},h=()=>{e.index.navigateTo({url:"/pages/settings/reminder"})},m=t=>{i.value=t.detail.value;const a=i.value?"已开启提醒":"已关闭提醒";e.index.showToast({title:a,icon:"success"})},T=()=>{e.index.navigateTo({url:"/pages/settings/privacy"})},w=()=>{e.index.navigateTo({url:"/pages/settings/ai"})},y=t=>{c.value=t.detail.value;const a=c.value?"已开启语音识别":"已关闭语音识别";e.index.showToast({title:a,icon:"success"})},f=()=>{e.index.navigateTo({url:"/pages/analysis/history"})},D=()=>{e.index.navigateTo({url:"/pages/settings/voice"})},S=()=>{e.index.navigateTo({url:"/pages/help/guide"})},k=()=>{e.index.navigateTo({url:"/pages/help/feedback"})},F=()=>{e.index.showModal({title:"关于心晴日记",content:"版本: v1.0.0\n一款AI驱动的情绪记录应用\n帮助你更好地了解和管理情绪",showCancel:!1})},I=()=>{e.index.navigateTo({url:"/pages/achievements/index"})},M=()=>{e.index.showModal({title:"确认退出",content:"退出登录后需要重新登录才能使用",success:t=>{t.confirm&&(e.index.clearStorageSync(),e.index.showToast({title:"已退出登录",icon:"success"}),setTimeout(()=>{e.index.reLaunch({url:"/pages/login/index"})},1500))}})};return e.onMounted(()=>{console.log("加载个人中心数据")}),(t,_)=>e.e({a:a.value.avatar,b:e.o(d),c:e.t(a.value.nickname),d:e.t(a.value.description),e:e.t(u(a.value.joinDate)),f:e.o(r),g:e.t(s.value.totalDays),h:e.t(s.value.totalRecords),i:e.t(s.value.averageMood),j:e.t(s.value.streakDays),k:e.o(v),l:"synced"===o.value},(o.value,{}),{m:e.o(g),n:e.o(x),o:e.t(n.value),p:e.o(p),q:i.value,r:e.o(m),s:e.o(h),t:e.o(T),v:e.o(w),w:c.value,x:e.o(y),y:e.o(D),z:e.o(f),A:e.o(S),B:e.o(k),C:e.o(F),D:e.o(I),E:e.f(l.value,(t,a,s)=>({a:e.t(t.icon),b:e.t(t.name),c:t.id})),F:e.o(M)})}}),a=e._export_sfc(t,[["__scopeId","data-v-67b140ec"]]);wx.createPage(a);
