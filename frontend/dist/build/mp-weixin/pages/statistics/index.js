"use strict";const e=require("../../common/vendor.js");Math||o();const o=()=>"../../components/SimpleChart.js",l=e.defineComponent({__name:"index",setup(o){const l=e.ref("week"),a=e.ref("line"),t=e.ref("week"),n=e.ref([{value:"week",label:"本周"},{value:"month",label:"本月"},{value:"quarter",label:"本季度"},{value:"year",label:"本年"}]),r=e.ref([{type:"week",label:"周模式"},{type:"hour",label:"时段模式"}]),c=e.ref({totalRecords:28,averageMood:6.8,streakDays:7,improvementRate:15}),u=e.computed(()=>[{icon:"📝",value:c.value.totalRecords,label:"总记录数"},{icon:"😊",value:c.value.averageMood.toFixed(1),label:"平均情绪"},{icon:"🔥",value:c.value.streakDays,label:"连续天数"},{icon:"📈",value:`${c.value.improvementRate}%`,label:"改善率"}]),i=e.ref([{name:"快乐",value:33.3,color:"#FFD700"},{name:"焦虑",value:18.2,color:"#FF8C00"},{name:"平静",value:15.9,color:"#87CEEB"},{name:"悲伤",value:13.6,color:"#6495ED"},{name:"愤怒",value:11.4,color:"#DC143C"},{name:"恐惧",value:7.6,color:"#9370DB"}]),s=e.ref([{name:"个人",value:18,color:"#FFB6C1"},{name:"工作",value:8,color:"#4A90E2"},{name:"社交",value:6,color:"#90EE90"},{name:"学习",value:4,color:"#20B2AA"},{name:"健康",value:3,color:"#DDA0DD"},{name:"其他",value:2,color:"#F0E68C"}]),v=e.ref([{name:"周一",value:6.2,color:"#4A90E2"},{name:"周二",value:7.1,color:"#4A90E2"},{name:"周三",value:5.8,color:"#4A90E2"},{name:"周四",value:6.9,color:"#4A90E2"},{name:"周五",value:7.5,color:"#4A90E2"},{name:"周六",value:8.2,color:"#4A90E2"},{name:"周日",value:7.8,color:"#4A90E2"}]),d=e.ref([{hour:"早晨",value:7.2,color:"#FFD700"},{hour:"上午",value:6.8,color:"#FFA500"},{hour:"中午",value:6.5,color:"#FF8C00"},{hour:"下午",value:6.2,color:"#FF6347"},{hour:"傍晚",value:7,color:"#9370DB"},{hour:"晚上",value:7.5,color:"#4169E1"}]),m=e.ref([{text:"开心",size:48,color:"#FFD700"},{text:"焦虑",size:36,color:"#FF8C00"},{text:"平静",size:32,color:"#87CEEB"},{text:"压力",size:28,color:"#DC143C"},{text:"满足",size:24,color:"#90EE90"},{text:"疲惫",size:20,color:"#9370DB"}]),p=e.ref([{id:1,name:"初心者",icon:"🌱",description:"完成第一次情绪记录",unlocked:!0,progress:1,target:1},{id:2,name:"坚持者",icon:"🔥",description:"连续记录7天",unlocked:!0,progress:7,target:7},{id:3,name:"探索者",icon:"🔍",description:"尝试所有情绪类型",unlocked:!1,progress:4,target:6},{id:4,name:"分析师",icon:"📊",description:"使用AI分析10次",unlocked:!1,progress:6,target:10}]),h=e.computed(()=>p.value.filter(e=>e.unlocked).length),f=e.computed(()=>p.value.length),g=()=>{a.value="line"===a.value?"bar":"line"},k=()=>{const e=c.value.improvementRate;return e>10?"情绪呈上升趋势 📈":e>0?"情绪保持稳定 ➡️":"需要关注情绪变化 📉"},x=()=>{const e=i.value[0];return`${e.name} ${e.value}%`},b=o=>{console.log("Chart clicked:",o),e.index.showToast({title:`查看${o.name}详情`,icon:"none"})},F=o=>{console.log("Emotion clicked:",o),e.index.showToast({title:`${o.name}: ${o.value}%`,icon:"none"})},w=o=>{console.log("Scene clicked:",o),e.index.showToast({title:`${o.name}: ${o.value}次`,icon:"none"})},E=o=>{console.log("Week clicked:",o),e.index.showToast({title:`${o.name}: ${o.value}分`,icon:"none"})},y=o=>{console.log("Heatmap clicked:",o),e.index.showToast({title:`${o.hour}: ${o.value}分`,icon:"none"})},$=()=>{e.index.showToast({title:"正在生成报告...",icon:"loading"}),setTimeout(()=>{e.index.showToast({title:"报告已生成",icon:"success"})},2e3)},A=()=>{e.index.showToast({title:"正在刷新数据...",icon:"loading"}),D()},C=()=>{e.index.showToast({title:"分享功能开发中",icon:"none"})},D=async()=>{try{console.log("Loading stats data for:",l.value)}catch(o){console.error("Failed to load stats:",o),e.index.showToast({title:"数据加载失败",icon:"none"})}};return e.onMounted(()=>{D()}),(o,T)=>e.e({a:e.t(c.value.totalRecords),b:e.f(n.value,(o,a,t)=>({a:e.t(o.label),b:o.value,c:l.value===o.value?1:"",d:e.o(e=>{return a=o.value,l.value=a,void D();var a},o.value)})),c:e.f(e.unref(u),(o,l,a)=>({a:e.t(o.icon),b:e.t(o.value),c:e.t(o.label),d:l})),d:e.t(k()),e:e.t("line"===a.value?"📈":"📊"),f:e.o(g),g:e.o(b),h:e.p({"chart-type":a.value,data:v.value,title:"本周情绪变化"}),i:e.t(x()),j:e.o(F),k:e.p({"chart-type":"pie",data:i.value,title:"情绪类型分布"}),l:e.o(w),m:e.p({"chart-type":"bar",data:s.value,title:"不同场景记录次数"}),n:e.f(r.value,(o,l,a)=>({a:e.t(o.label),b:o.type,c:t.value===o.type?1:"",d:e.o(e=>{return l=o.type,void(t.value=l);var l},o.type)})),o:"week"===t.value},"week"===t.value?{p:e.o(E),q:e.p({"chart-type":"bar",data:v.value,title:"一周情绪变化"})}:{},{r:"hour"===t.value},"hour"===t.value?{s:e.o(y),t:e.p({"chart-type":"heatmap",data:d.value,title:"时段活跃度热力图"})}:{},{v:e.f(m.value,(o,l,a)=>({a:e.t(o.text),b:o.color,c:o.text,d:o.size+"rpx",e:o.color,f:e.o(l=>(o=>{console.log("Word clicked:",o),e.index.showToast({title:`查看"${o.text}"相关记录`,icon:"none"})})(o),o.text)})),w:e.t(e.unref(h)),x:e.t(e.unref(f)),y:e.t(Math.round(e.unref(h)/e.unref(f)*100)),z:e.f(p.value,(o,l,a)=>e.e({a:e.t(o.icon),b:o.unlocked},(o.unlocked,{}),{c:e.t(o.name),d:!o.unlocked},o.unlocked?{}:{e:o.progress/o.target*100+"%"},{f:o.unlocked},o.unlocked?{g:e.t(o.description)}:{},{h:o.id,i:o.unlocked?1:"",j:e.o(l=>(o=>{console.log("Achievement clicked:",o);const l=o.unlocked?`已获得: ${o.description}`:`进度: ${o.progress}/${o.target}`;e.index.showToast({title:l,icon:"none"})})(o),o.id)})),A:e.o($),B:e.o(A),C:e.o(C)})}}),a=e._export_sfc(l,[["__scopeId","data-v-facf58f9"]]);wx.createPage(a);
