"use strict";const e=require("../../common/vendor.js"),t=e.defineComponent({__name:"reminder",setup(t){const n=e.reactive({enabled:!0,timeSlots:[{name:"早安提醒",time:"09:00",enabled:!0,repeatDays:[1,2,3,4,5,6,0]},{name:"午间提醒",time:"14:00",enabled:!1,repeatDays:[1,2,3,4,5]},{name:"晚间提醒",time:"21:00",enabled:!0,repeatDays:[1,2,3,4,5,6,0]}],selectedContent:0,customContent:"",smartReminders:{lowMood:!0,longAbsence:!0,achievement:!0},methods:[0,1]}),o=["日","一","二","三","四","五","六"],i=e.ref([{title:"温馨关怀",preview:"记录今天的心情，让每一份情感都被珍视 💝"},{title:"积极鼓励",preview:"每一次记录都是成长的脚印，加油！✨"},{title:"简约提醒",preview:"该记录情绪了 📝"},{title:"诗意表达",preview:"时光荏苒，让我们记录下此刻的心境 🌸"}]),s=e.ref([{icon:"🔔",title:"通知提醒",description:"发送系统通知消息"},{icon:"📳",title:"震动提醒",description:"设备轻微震动提醒"},{icon:"🔊",title:"声音提醒",description:"播放提醒铃声"},{icon:"🌟",title:"应用角标",description:"在应用图标上显示提醒数字"}]),a=t=>{n.enabled=t.detail.value;const o=n.enabled?"已开启每日提醒":"已关闭每日提醒";e.index.showToast({title:o,icon:"success"})},d=()=>{const e={name:`提醒 ${n.timeSlots.length+1}`,time:"12:00",enabled:!0,repeatDays:[1,2,3,4,5,6,0]};n.timeSlots.push(e)},l=e=>{n.smartReminders[e]=!n.smartReminders[e]},c=()=>{const t=i.value[n.selectedContent],o=n.customContent||t.preview;e.index.showModal({title:"提醒预览",content:o,showCancel:!1,confirmText:"知道了"})},m=()=>{e.index.showLoading({title:"保存中..."}),setTimeout(()=>{e.index.hideLoading(),e.index.showToast({title:"设置已保存",icon:"success"}),setTimeout(()=>{e.index.navigateBack()},1500)},1e3)};return(t,r)=>e.e({a:n.enabled,b:e.o(a),c:n.enabled},n.enabled?{d:e.f(n.timeSlots,(t,i,s)=>e.e({a:e.t(t.name),b:e.t(t.time),c:t.enabled,d:e.o(e=>((e,t)=>{n.timeSlots[e].enabled=t.detail.value})(i,e),i),e:t.enabled},t.enabled?{f:e.t(t.time),g:t.time,h:e.o(e=>((e,t)=>{n.timeSlots[e].time=t.detail.value})(i,e),i),i:e.f(o,(o,s,a)=>({a:e.t(o),b:s,c:t.repeatDays.includes(s)?1:"",d:e.o(e=>((e,t)=>{const o=n.timeSlots[e],i=o.repeatDays.indexOf(t);i>-1?o.repeatDays.splice(i,1):o.repeatDays.push(t)})(i,s),s)}))}:{},{j:i,k:t.enabled?1:""})),e:e.o(d)}:{},{f:n.enabled},n.enabled?{g:e.f(i.value,(t,o,i)=>e.e({a:e.t(t.title),b:e.t(t.preview),c:n.selectedContent===o},(n.selectedContent,{}),{d:o,e:n.selectedContent===o?1:"",f:e.o(e=>(e=>{n.selectedContent=e})(o),o)})),h:n.customContent,i:e.o(e=>n.customContent=e.detail.value),j:e.t(n.customContent.length)}:{},{k:n.enabled},n.enabled?{l:n.smartReminders.lowMood,m:e.o(e=>l("lowMood")),n:n.smartReminders.longAbsence,o:e.o(e=>l("longAbsence")),p:n.smartReminders.achievement,q:e.o(e=>l("achievement"))}:{},{r:n.enabled},n.enabled?{s:e.f(s.value,(t,o,i)=>e.e({a:e.t(t.icon),b:e.t(t.title),c:e.t(t.description),d:n.methods.includes(o)},(n.methods.includes(o),{}),{e:o,f:n.methods.includes(o)?1:"",g:e.o(e=>(e=>{const t=n.methods.indexOf(e);t>-1?n.methods.splice(t,1):n.methods.push(e)})(o),o)}))}:{},{t:n.enabled},n.enabled?{v:e.o(c)}:{},{w:e.o(m)})}}),n=e._export_sfc(t,[["__scopeId","data-v-40fb38e0"]]);wx.createPage(n);
