"use strict";const e=require("../../common/vendor.js"),o=e.defineComponent({__name:"privacy",setup(o){const t=e.ref("标准"),n=e.ref(5),i=e.reactive({localEncryption:!0,e2eEncryption:!1,anonymousAnalysis:!0,dataMasking:!0,locationProtection:!0,biometricAuth:!1,anonymousStats:!0,crashReports:!0,thirdPartyAnalytics:!1}),a=[{name:"基础",icon:"🛡️",description:"基本的隐私保护，适合一般用户"},{name:"标准",icon:"🔒",description:"平衡隐私保护与功能体验"},{name:"高级",icon:"🔐",description:"最高级别的隐私保护，可能影响部分功能"}],s=e.computed(()=>i.biometricAuth?"已启用生物识别":"未启用"),c=e.computed(()=>0===n.value?"立即锁定":60===n.value?"1小时后":`${n.value}分钟后`),l=()=>{const e=a.find(e=>e.name===t.value);return e?e.description:""},d=o=>{i.localEncryption=o.detail.value;const t=i.localEncryption?"已启用本地加密":"已关闭本地加密";e.index.showToast({title:t,icon:"success"})},r=o=>{i.e2eEncryption=o.detail.value,i.e2eEncryption&&e.index.showModal({title:"端到端加密",content:"启用后，即使是我们也无法访问您的数据。请妥善保管您的密码，忘记后无法恢复。",success:e=>{e.confirm||(i.e2eEncryption=!1)}})},u=e=>{i.anonymousAnalysis=e.detail.value},m=e=>{i.dataMasking=e.detail.value},y=e=>{i.locationProtection=e.detail.value},h=o=>{i.biometricAuth=o.detail.value,i.biometricAuth&&e.index.showModal({title:"生物识别验证",content:"请使用指纹或面部识别进行验证",success:o=>{o.confirm?e.index.showToast({title:"验证成功",icon:"success"}):i.biometricAuth=!1}})},p=e=>{i.anonymousStats=e.detail.value},v=e=>{i.crashReports=e.detail.value},x=e=>{i.thirdPartyAnalytics=e.detail.value},g=()=>{e.index.showActionSheet({itemList:["设置密码锁","设置图案锁","关闭应用锁"],success:o=>{e.index.showToast({title:`已设置${["密码锁","图案锁","关闭"][o.tapIndex]}`,icon:"success"})}})},w=()=>{e.index.showModal({title:"生物识别设置",content:"是否启用指纹或面部识别？",success:e=>{e.confirm&&(i.biometricAuth=!0)}})},E=()=>{e.index.showActionSheet({itemList:["立即锁定","1分钟后","5分钟后","15分钟后","30分钟后","1小时后"],success:o=>{n.value=[0,1,5,15,30,60][o.tapIndex],e.index.showToast({title:"设置成功",icon:"success"})}})},A=()=>{e.index.showModal({title:"数据使用情况",content:"本地数据：2.3MB\n云端备份：1.8MB\n缓存数据：0.5MB",showCancel:!1})},T=()=>{e.index.showLoading({title:"导出中..."}),setTimeout(()=>{e.index.hideLoading(),e.index.showToast({title:"导出完成",icon:"success"})},2e3)},f=()=>{e.index.showModal({title:"危险操作",content:'此操作将永久删除所有数据，无法恢复。请输入"DELETE"确认删除。',editable:!0,success:o=>{o.confirm&&"DELETE"===o.content?(e.index.showLoading({title:"删除中..."}),setTimeout(()=>{e.index.hideLoading(),e.index.showToast({title:"数据已删除",icon:"success"})},2e3)):o.confirm&&e.index.showToast({title:"输入错误，删除取消",icon:"none"})}})},M=()=>{e.index.navigateTo({url:"/pages/legal/privacy-policy"})},b=()=>{e.index.navigateTo({url:"/pages/legal/terms-of-service"})},L=()=>{e.index.navigateTo({url:"/pages/legal/data-policy"})},k=()=>{e.index.showLoading({title:"保存中..."}),setTimeout(()=>{e.index.hideLoading(),e.index.showToast({title:"设置已保存",icon:"success"}),setTimeout(()=>{e.index.navigateBack()},1500)},1e3)};return(o,n)=>({a:e.t(t.value),b:e.n(t.value.toLowerCase()),c:e.t(l()),d:e.f(a,(o,n,a)=>e.e({a:e.t(o.icon),b:e.t(o.name),c:e.t(o.description),d:t.value===o.name},(t.value,o.name,{}),{e:o.name,f:t.value===o.name?1:"",g:e.o(n=>(o=>{t.value=o,"基础"===o?(i.localEncryption=!1,i.e2eEncryption=!1,i.anonymousAnalysis=!1,i.dataMasking=!1):"标准"===o?(i.localEncryption=!0,i.e2eEncryption=!1,i.anonymousAnalysis=!0,i.dataMasking=!0):"高级"===o&&(i.localEncryption=!0,i.e2eEncryption=!0,i.anonymousAnalysis=!0,i.dataMasking=!0,i.locationProtection=!0),e.index.showToast({title:`已切换到${o}保护`,icon:"success"})})(o.name),o.name)})),e:i.localEncryption,f:e.o(d),g:i.e2eEncryption,h:e.o(r),i:i.anonymousAnalysis,j:e.o(u),k:i.dataMasking,l:e.o(m),m:i.locationProtection,n:e.o(y),o:e.t(e.unref(s)),p:e.o(g),q:i.biometricAuth,r:e.o(h),s:e.o(w),t:e.t(e.unref(c)),v:e.o(E),w:i.anonymousStats,x:e.o(p),y:i.crashReports,z:e.o(v),A:i.thirdPartyAnalytics,B:e.o(x),C:e.o(A),D:e.o(T),E:e.o(f),F:e.o(M),G:e.o(b),H:e.o(L),I:e.o(k)})}}),t=e._export_sfc(o,[["__scopeId","data-v-bed8e97c"]]);wx.createPage(t);
