import{g as e,r as s,p as t,j as l,q as a,o as i,c as n,w as c,b as o,a as u,d,n as r,t as p,l as f,m as _,F as m,e as v,f as g,i as y,s as h,v as b,x as k}from"./index-6a23bec1.js";import{g as w,e as x}from"./api.570cf528.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";const A=C(e({__name:"index",setup(e){const C=s(1),A=s(!1),S=s(0),q=t({text:"",emotions:[],intensity:5,scene:"",triggers:[],physicalSymptoms:[],copingMethods:[],enableDeepAnalysis:!1,deepAnswers:[]}),D=s([{name:"å¿«ä¹",icon:"ğŸ˜„",description:"æ„‰æ‚¦ã€å¼€å¿ƒã€æ»¡è¶³"},{name:"ç„¦è™‘",icon:"ğŸ˜Ÿ",description:"ç´§å¼ ã€æ‹…å¿ƒã€ä¸å®‰"},{name:"æ„¤æ€’",icon:"ğŸ˜¡",description:"ç”Ÿæ°”ã€æ„¤æ€’ã€æ¼ç«"},{name:"æ‚²ä¼¤",icon:"ğŸ˜¢",description:"éš¾è¿‡ã€æ²®ä¸§ã€å¤±è½"},{name:"å¹³é™",icon:"ğŸ˜Œ",description:"æ”¾æ¾ã€å¹³å’Œã€å®é™"},{name:"ææƒ§",icon:"ğŸ˜¨",description:"å®³æ€•ã€ææ…Œã€ç•æƒ§"}]),T=s([{name:"å·¥ä½œ",icon:"ğŸ’¼",description:"å·¥ä½œã€èŒåœºã€åŒäº‹å…³ç³»"},{name:"å­¦ä¹ ",icon:"ğŸ“š",description:"å­¦ä¹ ã€è€ƒè¯•ã€å­¦ä¸šå‹åŠ›"},{name:"ç”Ÿæ´»",icon:"ğŸ ",description:"æ—¥å¸¸ç”Ÿæ´»ã€å®¶åº­ã€ç”Ÿæ´»çäº‹"},{name:"ç¤¾äº¤",icon:"ğŸ‘¥",description:"æœ‹å‹èšä¼šã€ç¤¾äº¤æ´»åŠ¨"},{name:"å¥åº·",icon:"ğŸ’Š",description:"èº«ä½“å¥åº·ã€åŒ»ç–—ç›¸å…³"},{name:"å…¶ä»–",icon:"ğŸŒŸ",description:"å…¶ä»–ç‰¹æ®Šæƒ…å†µ"}]),M=s(["å·¥ä½œå‹åŠ›","äººé™…å…³ç³»","èº«ä½“ä¸é€‚","ç»æµé—®é¢˜","å­¦ä¹ å›°éš¾","å®¶åº­çŸ›ç›¾","ç¯å¢ƒå˜åŒ–","æ—¶é—´å‹åŠ›","æœŸæœ›è½ç©º","æ²Ÿé€šé—®é¢˜","å†³ç­–å›°éš¾","å…¶ä»–"]),j=s(["å¿ƒè·³åŠ é€Ÿ","èƒ¸é—·æ°”çŸ­","è‚Œè‚‰ç´§å¼ ","å¤´ç—›å¤´æ™•","å¤±çœ å¤šæ¢¦","é£Ÿæ¬²å˜åŒ–","ç–²åŠ³ä¹åŠ›","å‡ºæ±—é¢¤æŠ–","èƒƒéƒ¨ä¸é€‚","æ³¨æ„åŠ›éš¾é›†ä¸­","æ— æ˜æ˜¾ç—‡çŠ¶"]),I=s(["æ·±å‘¼å¸","è¿åŠ¨é”»ç‚¼","å¬éŸ³ä¹","å€¾è¯‰äº¤æµ","å†™æ—¥è®°","å†¥æƒ³æ”¾æ¾","è½¬ç§»æ³¨æ„åŠ›","å¯»æ±‚å¸®åŠ©","ç§¯ææ€è€ƒ","æ¥å—ç°çŠ¶","æš‚æ—¶å›é¿","å…¶ä»–æ–¹å¼"]),E=s([{question:"è¿™ç§æƒ…ç»ªè®©ä½ èº«ä½“æœ‰ä»€ä¹ˆååº”ï¼Ÿ",options:["å¿ƒè·³åŠ é€Ÿ","èƒ¸é—·æ°”çŸ­","è‚Œè‚‰ç´§å¼ ","å¤´ç—›å¤´æ™•","æ²¡æœ‰æ˜æ˜¾ååº”"]},{question:"ä½ è®¤ä¸ºè¿™ç§æƒ…ç»ªä¸»è¦ç”±ä»€ä¹ˆå¼•èµ·ï¼Ÿ",options:["å…·ä½“äº‹ä»¶","èº«ä½“çŠ¶æ€","ä»–äººè¡Œä¸º","ç¯å¢ƒå› ç´ ","æ— æ˜æ˜¾åŸå› "]},{question:"é¢å¯¹è¿™ç§æƒ…ç»ªï¼Œä½ é€šå¸¸ä¼šï¼Ÿ",options:["åˆ†æé—®é¢˜","å¯»æ±‚å¸®åŠ©","æš‚æ—¶å›é¿","è‡ªæˆ‘å¦å®š","æ¥å—ç°çŠ¶"]},{question:"è¿™ç§æƒ…ç»ªå¯¹ä½ çš„å½±å“ç¨‹åº¦ï¼Ÿ",options:["ä¸¥é‡å½±å“æ—¥å¸¸","ä¸­ç­‰å½±å“","è½»å¾®å½±å“","åŸºæœ¬æ— å½±å“"]},{question:"ä½ å¸Œæœ›é€šè¿‡ä»€ä¹ˆæ–¹å¼æ”¹å–„ï¼Ÿ",options:["è¿åŠ¨é”»ç‚¼","å€¾è¯‰äº¤æµ","ä¸“ä¸šå¸®åŠ©","è‡ªæˆ‘è°ƒèŠ‚","æš‚æ—¶ä¸å¤„ç†"]}]),O=e=>{q.text=e.detail.value},L=e=>{q.intensity=e.detail.value},V=e=>{q.enableDeepAnalysis=e.detail.value},$=()=>{C.value<4&&C.value++},z=()=>{C.value>1&&C.value--},B=()=>{q.enableDeepAnalysis=!q.enableDeepAnalysis},F=()=>{uni.showToast({title:"è¯­éŸ³è¾“å…¥åŠŸèƒ½å¼€å‘ä¸­",icon:"none"})},R=()=>{q.enableDeepAnalysis?(q.deepAnswers=new Array(E.value.length).fill(void 0),A.value=!0,S.value=0):J()},U=()=>{S.value<E.value.length-1?S.value++:(H(),J())},G=()=>{S.value>0&&S.value--},H=()=>{A.value=!1},J=async()=>{if(!w())return uni.showToast({title:"è¯·å…ˆç™»å½•",icon:"none"}),void uni.navigateTo({url:"/pages/login/index"});if(q.text.trim())if(0!==q.emotions.length)if(q.scene)try{uni.showLoading({title:"ä¿å­˜ä¸­..."});const e={emotion_type:N(q.emotions[0]),intensity:q.intensity,scenario:P(q.scene),description:q.text,triggers:q.triggers.length>0?q.triggers:["æ‰‹åŠ¨è®°å½•"],physical_symptoms:q.physicalSymptoms.length>0?q.physicalSymptoms:[],coping_methods:q.copingMethods.length>0?q.copingMethods:["æƒ…ç»ªè®°å½•"],people_involved:[],location:"",weather:"",effectiveness_rating:null,is_private:!1,enable_ai_analysis:q.enableDeepAnalysis};if(q.enableDeepAnalysis&&q.deepAnswers.length>0){const s=E.value.map((e,s)=>void 0!==q.deepAnswers[s]?`${e.question}: ${e.options[q.deepAnswers[s]]}`:null).filter(e=>Boolean(e));e.triggers=[...e.triggers,...s]}console.log("æäº¤è®°å½•æ•°æ®:",e);const s=await x.createRecord(e);uni.hideLoading(),uni.showToast({title:"è®°å½•ä¿å­˜æˆåŠŸ",icon:"success"}),W(),K(),setTimeout(()=>{q.enableDeepAnalysis?uni.navigateTo({url:`/pages/analysis/index?recordId=${s.id}`}):uni.switchTab({url:"/pages/index/index"})},1500)}catch(e){uni.hideLoading(),console.error("ä¿å­˜è®°å½•å¤±è´¥:",e),uni.showToast({title:(null==e?void 0:e.message)||"ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none",duration:3e3})}else uni.showToast({title:"è¯·é€‰æ‹©ç›¸å…³åœºæ™¯",icon:"none"});else uni.showToast({title:"è¯·é€‰æ‹©è‡³å°‘ä¸€ç§æƒ…ç»ª",icon:"none"});else uni.showToast({title:"è¯·è¾“å…¥æƒ…ç»ªæè¿°",icon:"none"})},K=()=>{q.text="",q.emotions=[],q.intensity=5,q.scene="",q.triggers=[],q.physicalSymptoms=[],q.copingMethods=[],q.enableDeepAnalysis=!1,q.deepAnswers=[],C.value=1,A.value=!1,S.value=0},N=e=>({"å¿«ä¹":"happy","ç„¦è™‘":"anxious","æ„¤æ€’":"angry","æ‚²ä¼¤":"sad","å¹³é™":"calm","ææƒ§":"fearful"}[e]||"happy"),P=e=>({"å·¥ä½œ":"work","å­¦ä¹ ":"study","ç”Ÿæ´»":"personal","ç¤¾äº¤":"social","å¥åº·":"health","å…¶ä»–":"other"}[e]||"personal"),Q=()=>{const e={...q,currentStep:C.value,timestamp:Date.now()};uni.setStorageSync("emotion_record_draft",e),uni.showToast({title:"è‰ç¨¿å·²ä¿å­˜",icon:"success",duration:1500})},W=()=>{uni.removeStorageSync("emotion_record_draft")};return l(()=>{const e=a(),s=e[e.length-1],t=(null==s?void 0:s.options)||{};t.quickEmotion?(q.emotions=[t.quickEmotion],C.value=2):(()=>{try{const e=uni.getStorageSync("emotion_record_draft");if(e&&e.timestamp){Date.now()-e.timestamp<864e5?uni.showModal({title:"å‘ç°è‰ç¨¿",content:"æ£€æµ‹åˆ°æœªå®Œæˆçš„è®°å½•ï¼Œæ˜¯å¦ç»§ç»­ç¼–è¾‘ï¼Ÿ",success:s=>{s.confirm?(Object.assign(q,e),C.value=e.currentStep||1,uni.showToast({title:"è‰ç¨¿å·²æ¢å¤",icon:"success"})):uni.removeStorageSync("emotion_record_draft")}}):uni.removeStorageSync("emotion_record_draft")}}catch(e){console.log("åŠ è½½è‰ç¨¿å¤±è´¥:",e)}})()}),(e,s)=>{const t=v,l=g,a=y,w=h,x=b,J=k;return i(),n(a,{class:"container"},{default:c(()=>[o(" é¡µé¢å¤´éƒ¨ "),u(a,{class:"page-header"},{default:c(()=>[u(t,{class:"page-title"},{default:c(()=>[d("æƒ…ç»ªè®°å½•")]),_:1}),u(l,{class:"draft-button",onClick:Q},{default:c(()=>[u(t,{class:"draft-icon"},{default:c(()=>[d("ğŸ’¾")]),_:1}),u(t,{class:"draft-text"},{default:c(()=>[d("ä¿å­˜è‰ç¨¿")]),_:1})]),_:1})]),_:1}),o(" è¿›åº¦æŒ‡ç¤ºå™¨ "),u(a,{class:"progress-bar"},{default:c(()=>[u(a,{class:r(["progress-step",{active:C.value>=1}])},{default:c(()=>[u(t,{class:"step-number"},{default:c(()=>[d("1")]),_:1}),u(t,{class:"step-text"},{default:c(()=>[d("æè¿°")]),_:1})]),_:1},8,["class"]),u(a,{class:r(["progress-line",{active:C.value>=2}])},null,8,["class"]),u(a,{class:r(["progress-step",{active:C.value>=2}])},{default:c(()=>[u(t,{class:"step-number"},{default:c(()=>[d("2")]),_:1}),u(t,{class:"step-text"},{default:c(()=>[d("æƒ…ç»ª")]),_:1})]),_:1},8,["class"]),u(a,{class:r(["progress-line",{active:C.value>=3}])},null,8,["class"]),u(a,{class:r(["progress-step",{active:C.value>=3}])},{default:c(()=>[u(t,{class:"step-number"},{default:c(()=>[d("3")]),_:1}),u(t,{class:"step-text"},{default:c(()=>[d("åœºæ™¯")]),_:1})]),_:1},8,["class"]),u(a,{class:r(["progress-line",{active:C.value>=4}])},null,8,["class"]),u(a,{class:r(["progress-step",{active:C.value>=4}])},{default:c(()=>[u(t,{class:"step-number"},{default:c(()=>[d("4")]),_:1}),u(t,{class:"step-text"},{default:c(()=>[d("è¯¦æƒ…")]),_:1})]),_:1},8,["class"])]),_:1}),o(" æ­¥éª¤1: æ–‡æœ¬è¾“å…¥ "),1===C.value?(i(),n(a,{key:0,class:"step-content"},{default:c(()=>[u(a,{class:"step-title"},{default:c(()=>[u(t,{class:"title"},{default:c(()=>[d("ä»Šå¤©å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ")]),_:1}),u(t,{class:"subtitle"},{default:c(()=>[d("ç”¨æ–‡å­—è®°å½•ä¸‹ä½ çš„æ„Ÿå—")]),_:1})]),_:1}),u(a,{class:"input-section"},{default:c(()=>[u(w,{class:"diary-input",modelValue:q.text,"onUpdate:modelValue":s[0]||(s[0]=e=>q.text=e),placeholder:"ä»Šå¤©å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä¸€å¥è¯æè¿°ä¹Ÿå¯ä»¥...",maxlength:"200","auto-height":"",onInput:O},null,8,["modelValue"]),u(a,{class:"char-count"},{default:c(()=>[u(t,{class:"count"},{default:c(()=>[d(p(q.text.length),1)]),_:1}),u(t,{class:"max"},{default:c(()=>[d("/200")]),_:1})]),_:1})]),_:1}),o(" è¯­éŸ³è¾“å…¥æŒ‰é’® "),u(a,{class:"voice-input",onClick:F},{default:c(()=>[u(t,{class:"voice-icon"},{default:c(()=>[d("ğŸ¤")]),_:1}),u(t,{class:"voice-text"},{default:c(()=>[d("è¯­éŸ³è¾“å…¥")]),_:1})]),_:1}),u(a,{class:"step-actions"},{default:c(()=>[u(l,{class:"next-button",onClick:$,disabled:!q.text.trim()},{default:c(()=>[d(" ä¸‹ä¸€æ­¥ ")]),_:1},8,["disabled"])]),_:1})]),_:1})):o("v-if",!0),o(" æ­¥éª¤2: æƒ…ç»ªé€‰æ‹© "),2===C.value?(i(),n(a,{key:1,class:"step-content"},{default:c(()=>[u(a,{class:"step-title"},{default:c(()=>[u(t,{class:"title"},{default:c(()=>[d("é€‰æ‹©ä½ çš„æƒ…ç»ª")]),_:1}),u(t,{class:"subtitle"},{default:c(()=>[d("å¯ä»¥é€‰æ‹©å¤šä¸ªæƒ…ç»ª")]),_:1})]),_:1}),u(a,{class:"emotions-grid"},{default:c(()=>[(i(!0),f(m,null,_(D.value,e=>(i(),n(a,{class:r(["emotion-item",{selected:q.emotions.includes(e.name)}]),key:e.name,onClick:s=>(e=>{const s=q.emotions.indexOf(e);s>-1?q.emotions.splice(s,1):q.emotions.push(e)})(e.name)},{default:c(()=>[u(t,{class:"emotion-icon"},{default:c(()=>[d(p(e.icon),1)]),_:2},1024),u(t,{class:"emotion-name"},{default:c(()=>[d(p(e.name),1)]),_:2},1024),u(a,{class:"emotion-desc"},{default:c(()=>[d(p(e.description),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1}),o(" æƒ…ç»ªå¼ºåº¦æ»‘å— "),q.emotions.length>0?(i(),n(a,{key:0,class:"intensity-section"},{default:c(()=>[u(a,{class:"intensity-title"},{default:c(()=>[u(t,null,{default:c(()=>[d("æƒ…ç»ªå¼ºåº¦")]),_:1}),u(t,{class:"intensity-value"},{default:c(()=>[d(p(q.intensity)+"/10",1)]),_:1})]),_:1}),u(x,{class:"intensity-slider",value:q.intensity,onChange:L,min:"1",max:"10",step:"1",activeColor:"#4A90E2",backgroundColor:"#e0e0e0","block-size":"20"},null,8,["value"]),u(a,{class:"intensity-labels"},{default:c(()=>[u(t,{class:"label-left"},{default:c(()=>[d("è½»å¾®")]),_:1}),u(t,{class:"label-right"},{default:c(()=>[d("å¼ºçƒˆ")]),_:1})]),_:1})]),_:1})):o("v-if",!0),u(a,{class:"step-actions"},{default:c(()=>[u(l,{class:"prev-button",onClick:z},{default:c(()=>[d("ä¸Šä¸€æ­¥")]),_:1}),u(l,{class:"next-button",onClick:$,disabled:0===q.emotions.length},{default:c(()=>[d(" ä¸‹ä¸€æ­¥ ")]),_:1},8,["disabled"])]),_:1})]),_:1})):o("v-if",!0),o(" æ­¥éª¤3: åœºæ™¯é€‰æ‹© "),3===C.value?(i(),n(a,{key:2,class:"step-content"},{default:c(()=>[u(a,{class:"step-title"},{default:c(()=>[u(t,{class:"title"},{default:c(()=>[d("é€‰æ‹©ç›¸å…³åœºæ™¯")]),_:1}),u(t,{class:"subtitle"},{default:c(()=>[d("è¿™æœ‰åŠ©äºAIæ›´å¥½åœ°åˆ†æ")]),_:1})]),_:1}),u(a,{class:"scenes-list"},{default:c(()=>[(i(!0),f(m,null,_(T.value,e=>(i(),n(a,{class:r(["scene-item",{selected:q.scene===e.name}]),key:e.name,onClick:s=>{return t=e.name,void(q.scene=t);var t}},{default:c(()=>[u(t,{class:"scene-icon"},{default:c(()=>[d(p(e.icon),1)]),_:2},1024),u(a,{class:"scene-info"},{default:c(()=>[u(t,{class:"scene-name"},{default:c(()=>[d(p(e.name),1)]),_:2},1024),u(t,{class:"scene-desc"},{default:c(()=>[d(p(e.description),1)]),_:2},1024)]),_:2},1024),q.scene===e.name?(i(),n(t,{key:0,class:"check-icon"},{default:c(()=>[d("âœ“")]),_:1})):o("v-if",!0)]),_:2},1032,["class","onClick"]))),128))]),_:1}),o(" æ·±åº¦åˆ†æå¼€å…³ "),u(a,{class:"deep-analysis-section"},{default:c(()=>[u(a,{class:"analysis-header",onClick:B},{default:c(()=>[u(a,{class:"analysis-info"},{default:c(()=>[u(t,{class:"analysis-title"},{default:c(()=>[d("æ·±åº¦åˆ†æ")]),_:1}),u(t,{class:"analysis-desc"},{default:c(()=>[d("å›ç­”å‡ ä¸ªé—®é¢˜ï¼Œè·å¾—æ›´ç²¾å‡†çš„AIå»ºè®®")]),_:1})]),_:1}),u(J,{checked:q.enableDeepAnalysis,onChange:V,color:"#4A90E2"},null,8,["checked"])]),_:1})]),_:1}),u(a,{class:"step-actions"},{default:c(()=>[u(l,{class:"prev-button",onClick:z},{default:c(()=>[d("ä¸Šä¸€æ­¥")]),_:1}),u(l,{class:"next-button",onClick:$,disabled:!q.scene},{default:c(()=>[d(" ä¸‹ä¸€æ­¥ ")]),_:1},8,["disabled"])]),_:1})]),_:1})):o("v-if",!0),o(" æ­¥éª¤4: è§¦å‘å› ç´ å’Œèº«ä½“ç—‡çŠ¶ "),4===C.value?(i(),n(a,{key:3,class:"step-content"},{default:c(()=>[u(a,{class:"step-title"},{default:c(()=>[u(t,{class:"title"},{default:c(()=>[d("è¯¦ç»†ä¿¡æ¯")]),_:1}),u(t,{class:"subtitle"},{default:c(()=>[d("é€‰æ‹©è§¦å‘å› ç´ å’Œèº«ä½“ç—‡çŠ¶ï¼ˆå¯é€‰ï¼‰")]),_:1})]),_:1}),o(" è§¦å‘å› ç´  "),u(a,{class:"detail-section"},{default:c(()=>[u(a,{class:"section-title"},{default:c(()=>[u(t,null,{default:c(()=>[d("è§¦å‘å› ç´ ")]),_:1})]),_:1}),u(a,{class:"triggers-grid"},{default:c(()=>[(i(!0),f(m,null,_(M.value,e=>(i(),n(a,{class:r(["trigger-item",{selected:q.triggers.includes(e)}]),key:e,onClick:s=>(e=>{const s=q.triggers.indexOf(e);s>-1?q.triggers.splice(s,1):q.triggers.push(e)})(e)},{default:c(()=>[u(t,{class:"trigger-text"},{default:c(()=>[d(p(e),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),o(" èº«ä½“ç—‡çŠ¶ "),u(a,{class:"detail-section"},{default:c(()=>[u(a,{class:"section-title"},{default:c(()=>[u(t,null,{default:c(()=>[d("èº«ä½“ç—‡çŠ¶")]),_:1})]),_:1}),u(a,{class:"symptoms-grid"},{default:c(()=>[(i(!0),f(m,null,_(j.value,e=>(i(),n(a,{class:r(["symptom-item",{selected:q.physicalSymptoms.includes(e)}]),key:e,onClick:s=>(e=>{const s=q.physicalSymptoms.indexOf(e);s>-1?q.physicalSymptoms.splice(s,1):q.physicalSymptoms.push(e)})(e)},{default:c(()=>[u(t,{class:"symptom-text"},{default:c(()=>[d(p(e),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),o(" åº”å¯¹æ–¹å¼ "),u(a,{class:"detail-section"},{default:c(()=>[u(a,{class:"section-title"},{default:c(()=>[u(t,null,{default:c(()=>[d("åº”å¯¹æ–¹å¼")]),_:1})]),_:1}),u(a,{class:"coping-grid"},{default:c(()=>[(i(!0),f(m,null,_(I.value,e=>(i(),n(a,{class:r(["coping-item",{selected:q.copingMethods.includes(e)}]),key:e,onClick:s=>(e=>{const s=q.copingMethods.indexOf(e);s>-1?q.copingMethods.splice(s,1):q.copingMethods.push(e)})(e)},{default:c(()=>[u(t,{class:"coping-text"},{default:c(()=>[d(p(e),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),o(" æ·±åº¦åˆ†æå¼€å…³ "),u(a,{class:"deep-analysis-section"},{default:c(()=>[u(a,{class:"analysis-header",onClick:B},{default:c(()=>[u(a,{class:"analysis-info"},{default:c(()=>[u(t,{class:"analysis-title"},{default:c(()=>[d("æ·±åº¦åˆ†æ")]),_:1}),u(t,{class:"analysis-desc"},{default:c(()=>[d("å›ç­”å‡ ä¸ªé—®é¢˜ï¼Œè·å¾—æ›´ç²¾å‡†çš„AIå»ºè®®")]),_:1})]),_:1}),u(J,{checked:q.enableDeepAnalysis,onChange:V,color:"#4A90E2"},null,8,["checked"])]),_:1})]),_:1}),o(" è®°å½•é¢„è§ˆ "),u(a,{class:"record-preview"},{default:c(()=>[u(a,{class:"preview-title"},{default:c(()=>[u(t,null,{default:c(()=>[d("è®°å½•é¢„è§ˆ")]),_:1})]),_:1}),u(a,{class:"preview-content"},{default:c(()=>[u(a,{class:"preview-item"},{default:c(()=>[u(t,{class:"preview-label"},{default:c(()=>[d("æƒ…ç»ªæè¿°ï¼š")]),_:1}),u(t,{class:"preview-text"},{default:c(()=>[d(p(q.text||"æš‚æ— "),1)]),_:1})]),_:1}),u(a,{class:"preview-item"},{default:c(()=>[u(t,{class:"preview-label"},{default:c(()=>[d("ä¸»è¦æƒ…ç»ªï¼š")]),_:1}),u(t,{class:"preview-text"},{default:c(()=>[d(p(q.emotions.join("ã€")||"æš‚æ— "),1)]),_:1})]),_:1}),u(a,{class:"preview-item"},{default:c(()=>[u(t,{class:"preview-label"},{default:c(()=>[d("æƒ…ç»ªå¼ºåº¦ï¼š")]),_:1}),u(t,{class:"preview-text"},{default:c(()=>[d(p(q.intensity)+"/10",1)]),_:1})]),_:1}),u(a,{class:"preview-item"},{default:c(()=>[u(t,{class:"preview-label"},{default:c(()=>[d("ç›¸å…³åœºæ™¯ï¼š")]),_:1}),u(t,{class:"preview-text"},{default:c(()=>[d(p(q.scene||"æš‚æ— "),1)]),_:1})]),_:1}),q.triggers.length>0?(i(),n(a,{key:0,class:"preview-item"},{default:c(()=>[u(t,{class:"preview-label"},{default:c(()=>[d("è§¦å‘å› ç´ ï¼š")]),_:1}),u(t,{class:"preview-text"},{default:c(()=>[d(p(q.triggers.join("ã€")),1)]),_:1})]),_:1})):o("v-if",!0),q.physicalSymptoms.length>0?(i(),n(a,{key:1,class:"preview-item"},{default:c(()=>[u(t,{class:"preview-label"},{default:c(()=>[d("èº«ä½“ç—‡çŠ¶ï¼š")]),_:1}),u(t,{class:"preview-text"},{default:c(()=>[d(p(q.physicalSymptoms.join("ã€")),1)]),_:1})]),_:1})):o("v-if",!0),q.copingMethods.length>0?(i(),n(a,{key:2,class:"preview-item"},{default:c(()=>[u(t,{class:"preview-label"},{default:c(()=>[d("åº”å¯¹æ–¹å¼ï¼š")]),_:1}),u(t,{class:"preview-text"},{default:c(()=>[d(p(q.copingMethods.join("ã€")),1)]),_:1})]),_:1})):o("v-if",!0)]),_:1})]),_:1}),u(a,{class:"step-actions"},{default:c(()=>[u(l,{class:"prev-button",onClick:z},{default:c(()=>[d("ä¸Šä¸€æ­¥")]),_:1}),u(l,{class:"save-button",onClick:R},{default:c(()=>[d(p(q.enableDeepAnalysis?"ç»§ç»­æ·±åº¦åˆ†æ":"ä¿å­˜è®°å½•"),1)]),_:1})]),_:1})]),_:1})):o("v-if",!0),o(" æ·±åº¦åˆ†æé—®é¢˜ "),A.value?(i(),n(a,{key:4,class:"deep-analysis-modal"},{default:c(()=>[u(a,{class:"modal-content"},{default:c(()=>[u(a,{class:"modal-header"},{default:c(()=>[u(t,{class:"modal-title"},{default:c(()=>[d("æ·±åº¦åˆ†æ ("+p(S.value+1)+"/"+p(E.value.length)+")",1)]),_:1}),u(t,{class:"close-btn",onClick:H},{default:c(()=>[d("Ã—")]),_:1})]),_:1}),u(a,{class:"question-content"},{default:c(()=>[u(t,{class:"question-text"},{default:c(()=>[d(p(E.value[S.value].question),1)]),_:1}),u(a,{class:"answer-options"},{default:c(()=>[(i(!0),f(m,null,_(E.value[S.value].options,(e,s)=>(i(),n(a,{class:r(["option-item",{selected:q.deepAnswers[S.value]===s}]),key:s,onClick:e=>{return t=s,void(q.deepAnswers[S.value]=t);var t}},{default:c(()=>[u(t,{class:"option-text"},{default:c(()=>[d(p(e),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1}),u(a,{class:"question-actions"},{default:c(()=>[S.value>0?(i(),n(l,{key:0,class:"prev-question-btn",onClick:G},{default:c(()=>[d(" ä¸Šä¸€é¢˜ ")]),_:1})):o("v-if",!0),u(l,{class:"next-question-btn",onClick:U,disabled:void 0===q.deepAnswers[S.value]},{default:c(()=>[d(p(S.value===E.value.length-1?"å®Œæˆåˆ†æ":"ä¸‹ä¸€é¢˜"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})):o("v-if",!0)]),_:1})}}}),[["__scopeId","data-v-768f4a61"]]);export{A as default};
