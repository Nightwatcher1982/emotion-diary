import{g as e,p as t,r as s,o as a,c as l,w as c,b as i,a as n,d as o,l as d,m as u,F as r,t as m,e as f,i as _,x as p,s as h,f as v,n as k,A as b}from"./index-cc15a06a.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";const C=y(e({__name:"reminder",setup(e){const y=t({enabled:!0,timeSlots:[{name:"早安提醒",time:"09:00",enabled:!0,repeatDays:[1,2,3,4,5,6,0]},{name:"午间提醒",time:"14:00",enabled:!1,repeatDays:[1,2,3,4,5]},{name:"晚间提醒",time:"21:00",enabled:!0,repeatDays:[1,2,3,4,5,6,0]}],selectedContent:0,customContent:"",smartReminders:{lowMood:!0,longAbsence:!0,achievement:!0},methods:[0,1]}),C=["日","一","二","三","四","五","六"],w=s([{title:"温馨关怀",preview:"记录今天的心情，让每一份情感都被珍视 💝"},{title:"积极鼓励",preview:"每一次记录都是成长的脚印，加油！✨"},{title:"简约提醒",preview:"该记录情绪了 📝"},{title:"诗意表达",preview:"时光荏苒，让我们记录下此刻的心境 🌸"}]),g=s([{icon:"🔔",title:"通知提醒",description:"发送系统通知消息"},{icon:"📳",title:"震动提醒",description:"设备轻微震动提醒"},{icon:"🔊",title:"声音提醒",description:"播放提醒铃声"},{icon:"🌟",title:"应用角标",description:"在应用图标上显示提醒数字"}]),x=e=>{y.enabled=e.detail.value;const t=y.enabled?"已开启每日提醒":"已关闭每日提醒";uni.showToast({title:t,icon:"success"})},D=()=>{const e={name:`提醒 ${y.timeSlots.length+1}`,time:"12:00",enabled:!0,repeatDays:[1,2,3,4,5,6,0]};y.timeSlots.push(e)},S=e=>{y.smartReminders[e]=!y.smartReminders[e]},R=()=>{const e=w.value[y.selectedContent],t=y.customContent||e.preview;uni.showModal({title:"提醒预览",content:t,showCancel:!1,confirmText:"知道了"})},T=()=>{uni.showLoading({title:"保存中..."}),setTimeout(()=>{uni.hideLoading(),uni.showToast({title:"设置已保存",icon:"success"}),setTimeout(()=>{uni.navigateBack()},1500)},1e3)};return(e,t)=>{const s=f,z=_,A=p,M=b,V=h,j=v;return a(),l(z,{class:"container"},{default:c(()=>[i(" 页面头部 "),n(z,{class:"page-header"},{default:c(()=>[n(s,{class:"page-title"},{default:c(()=>[o("提醒设置")]),_:1}),n(s,{class:"page-subtitle"},{default:c(()=>[o("设置个性化的情绪记录提醒")]),_:1})]),_:1}),i(" 主开关 "),n(z,{class:"main-switch-card"},{default:c(()=>[n(z,{class:"switch-content"},{default:c(()=>[n(z,{class:"switch-info"},{default:c(()=>[n(s,{class:"switch-title"},{default:c(()=>[o("每日提醒")]),_:1}),n(s,{class:"switch-desc"},{default:c(()=>[o("开启后将在设定时间提醒您记录情绪")]),_:1})]),_:1}),n(A,{checked:y.enabled,onChange:x,color:"var(--primary-color)",class:"main-switch"},null,8,["checked"])]),_:1})]),_:1}),i(" 提醒时间设置 "),y.enabled?(a(),l(z,{key:0,class:"settings-section"},{default:c(()=>[n(s,{class:"section-title"},{default:c(()=>[o("提醒时间")]),_:1}),n(z,{class:"time-slots"},{default:c(()=>[(a(!0),d(r,null,u(y.timeSlots,(e,t)=>(a(),l(z,{class:k(["time-slot",{active:e.enabled}]),key:t},{default:c(()=>[n(z,{class:"slot-header"},{default:c(()=>[n(z,{class:"slot-info"},{default:c(()=>[n(s,{class:"slot-name"},{default:c(()=>[o(m(e.name),1)]),_:2},1024),n(s,{class:"slot-time"},{default:c(()=>[o(m(e.time),1)]),_:2},1024)]),_:2},1024),n(A,{checked:e.enabled,onChange:e=>((e,t)=>{y.timeSlots[e].enabled=t.detail.value})(t,e),color:"var(--primary-color)",size:"mini"},null,8,["checked","onChange"])]),_:2},1024),e.enabled?(a(),l(z,{key:0,class:"slot-details"},{default:c(()=>[n(M,{mode:"time",value:e.time,onChange:e=>((e,t)=>{y.timeSlots[e].time=t.detail.value})(t,e),class:"time-picker"},{default:c(()=>[n(z,{class:"picker-content"},{default:c(()=>[n(s,{class:"picker-label"},{default:c(()=>[o("时间")]),_:1}),n(s,{class:"picker-value"},{default:c(()=>[o(m(e.time),1)]),_:2},1024),n(s,{class:"picker-arrow"},{default:c(()=>[o(">")]),_:1})]),_:2},1024)]),_:2},1032,["value","onChange"]),n(z,{class:"repeat-days"},{default:c(()=>[n(s,{class:"repeat-label"},{default:c(()=>[o("重复")]),_:1}),n(z,{class:"days-selector"},{default:c(()=>[(a(),d(r,null,u(C,(a,l)=>n(s,{key:l,class:k(["day-item",{selected:e.repeatDays.includes(l)}]),onClick:e=>((e,t)=>{const s=y.timeSlots[e],a=s.repeatDays.indexOf(t);a>-1?s.repeatDays.splice(a,1):s.repeatDays.push(t)})(t,l)},{default:c(()=>[o(m(a),1)]),_:2},1032,["class","onClick"])),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)):i("v-if",!0)]),_:2},1032,["class"]))),128))]),_:1}),i(" 添加新提醒 "),n(z,{class:"add-reminder",onClick:D},{default:c(()=>[n(s,{class:"add-icon"},{default:c(()=>[o("+")]),_:1}),n(s,{class:"add-text"},{default:c(()=>[o("添加新提醒")]),_:1})]),_:1})]),_:1})):i("v-if",!0),i(" 提醒内容设置 "),y.enabled?(a(),l(z,{key:1,class:"settings-section"},{default:c(()=>[n(s,{class:"section-title"},{default:c(()=>[o("提醒内容")]),_:1}),n(z,{class:"content-options"},{default:c(()=>[(a(!0),d(r,null,u(w.value,(e,t)=>(a(),l(z,{class:k(["content-item",{selected:y.selectedContent===t}]),key:t,onClick:e=>(e=>{y.selectedContent=e})(t)},{default:c(()=>[n(z,{class:"content-preview"},{default:c(()=>[n(s,{class:"content-title"},{default:c(()=>[o(m(e.title),1)]),_:2},1024),n(s,{class:"content-text"},{default:c(()=>[o(m(e.preview),1)]),_:2},1024)]),_:2},1024),n(z,{class:"content-indicator"},{default:c(()=>[y.selectedContent===t?(a(),l(s,{key:0,class:"indicator"},{default:c(()=>[o("✓")]),_:1})):i("v-if",!0)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)),i(" 自定义内容 "),n(z,{class:"custom-content"},{default:c(()=>[n(s,{class:"custom-label"},{default:c(()=>[o("自定义提醒内容")]),_:1}),n(V,{modelValue:y.customContent,"onUpdate:modelValue":t[0]||(t[0]=e=>y.customContent=e),placeholder:"输入您的专属提醒内容...",class:"custom-input",maxlength:"100"},null,8,["modelValue"]),n(s,{class:"char-count"},{default:c(()=>[o(m(y.customContent.length)+"/100",1)]),_:1})]),_:1})]),_:1})]),_:1})):i("v-if",!0),i(" 智能提醒设置 "),y.enabled?(a(),l(z,{key:2,class:"settings-section"},{default:c(()=>[n(s,{class:"section-title"},{default:c(()=>[o("智能提醒")]),_:1}),n(z,{class:"smart-options"},{default:c(()=>[n(z,{class:"smart-item"},{default:c(()=>[n(z,{class:"smart-info"},{default:c(()=>[n(s,{class:"smart-title"},{default:c(()=>[o("情绪低落提醒")]),_:1}),n(s,{class:"smart-desc"},{default:c(()=>[o("检测到连续低情绪时主动提醒")]),_:1})]),_:1}),n(A,{checked:y.smartReminders.lowMood,onChange:t[1]||(t[1]=e=>S("lowMood")),color:"var(--primary-color)",size:"mini"},null,8,["checked"])]),_:1}),n(z,{class:"smart-item"},{default:c(()=>[n(z,{class:"smart-info"},{default:c(()=>[n(s,{class:"smart-title"},{default:c(()=>[o("长期未记录提醒")]),_:1}),n(s,{class:"smart-desc"},{default:c(()=>[o("超过3天未记录时发送提醒")]),_:1})]),_:1}),n(A,{checked:y.smartReminders.longAbsence,onChange:t[2]||(t[2]=e=>S("longAbsence")),color:"var(--primary-color)",size:"mini"},null,8,["checked"])]),_:1}),n(z,{class:"smart-item"},{default:c(()=>[n(z,{class:"smart-info"},{default:c(()=>[n(s,{class:"smart-title"},{default:c(()=>[o("成就达成提醒")]),_:1}),n(s,{class:"smart-desc"},{default:c(()=>[o("获得新成就时发送祝贺提醒")]),_:1})]),_:1}),n(A,{checked:y.smartReminders.achievement,onChange:t[3]||(t[3]=e=>S("achievement")),color:"var(--primary-color)",size:"mini"},null,8,["checked"])]),_:1})]),_:1})]),_:1})):i("v-if",!0),i(" 提醒方式设置 "),y.enabled?(a(),l(z,{key:3,class:"settings-section"},{default:c(()=>[n(s,{class:"section-title"},{default:c(()=>[o("提醒方式")]),_:1}),n(z,{class:"method-options"},{default:c(()=>[(a(!0),d(r,null,u(g.value,(e,t)=>(a(),l(z,{class:k(["method-item",{selected:y.methods.includes(t)}]),key:t,onClick:e=>(e=>{const t=y.methods.indexOf(e);t>-1?y.methods.splice(t,1):y.methods.push(e)})(t)},{default:c(()=>[n(s,{class:"method-icon"},{default:c(()=>[o(m(e.icon),1)]),_:2},1024),n(z,{class:"method-info"},{default:c(()=>[n(s,{class:"method-title"},{default:c(()=>[o(m(e.title),1)]),_:2},1024),n(s,{class:"method-desc"},{default:c(()=>[o(m(e.description),1)]),_:2},1024)]),_:2},1024),n(z,{class:"method-indicator"},{default:c(()=>[y.methods.includes(t)?(a(),l(s,{key:0,class:"indicator"},{default:c(()=>[o("✓")]),_:1})):i("v-if",!0)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})):i("v-if",!0),i(" 预览提醒 "),y.enabled?(a(),l(z,{key:4,class:"preview-section"},{default:c(()=>[n(j,{class:"preview-button",onClick:R},{default:c(()=>[n(s,{class:"preview-icon"},{default:c(()=>[o("👁️")]),_:1}),n(s,{class:"preview-text"},{default:c(()=>[o("预览提醒效果")]),_:1})]),_:1})]),_:1})):i("v-if",!0),i(" 保存按钮 "),n(z,{class:"save-section"},{default:c(()=>[n(j,{class:"save-button",onClick:T},{default:c(()=>[o(" 保存设置 ")]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-40fb38e0"]]);export{C as default};
